// Summary for: /mnt/c/dev/buccancs/external/ShimmerCapturePure/sources/org/apache/commons/math3/random/UnitSphereRandomVectorGenerator.java
// Size: 1138 bytes
// Modified: 2025-10-21 16:32:05.278791000 +0100

package org.apache.commons.math3.random;

import org.apache.commons.math3.util.FastMath;

/* loaded from: classes5.dex */
public class UnitSphereRandomVectorGenerator implements RandomVectorGenerator {
    private final int dimension;
    private final RandomGenerator rand;

    public UnitSphereRandomVectorGenerator(int i, RandomGenerator randomGenerator) {
        this.dimension = i;
        this.rand = randomGenerator;
    }

    public UnitSphereRandomVectorGenerator(int i) {
        this(i, new MersenneTwister());
    }

    @Override // org.apache.commons.math3.random.RandomVectorGenerator
    public double[] nextVector() {
        double[] dArr = new double[this.dimension];
        double d = 0.0d;
        for (int i = 0; i < this.dimension; i++) {
            double dNextGaussian = this.rand.nextGaussian();
            dArr[i] = dNextGaussian;
            d += dNextGaussian * dNextGaussian;
        }
        double dSqrt = 1.0d / FastMath.sqrt(d);
        for (int i2 = 0; i2 < this.dimension; i2++) {
            dArr[i2] = dArr[i2] * dSqrt;
        }
        return dArr;
    }
}
