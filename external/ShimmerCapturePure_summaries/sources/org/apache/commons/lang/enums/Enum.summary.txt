// Summary for: /mnt/c/dev/buccancs/external/ShimmerCapturePure/sources/org/apache/commons/lang/enums/Enum.java
// Size: 9789 bytes
// Modified: 2025-10-21 16:32:03.797933700 +0100

package org.apache.commons.lang.enums;

import java.io.Serializable;
import java.lang.reflect.InvocationTargetException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.WeakHashMap;
import org.apache.commons.lang.ClassUtils;
import org.apache.commons.lang.StringUtils;

/* loaded from: classes5.dex */
public abstract class Enum implements Comparable, Serializable {
    private static final Map EMPTY_MAP = Collections.unmodifiableMap(new HashMap(0));
    private static Map cEnumClasses = new WeakHashMap();
    static /* synthetic */ Class class$org$apache$commons$lang$enums$Enum = null;
    static /* synthetic */ Class class$org$apache$commons$lang$enums$ValuedEnum = null;
    private static final long serialVersionUID = -487045951170455942L;
    private final transient int iHashCode;
    private final String iName;
    protected transient String iToString = null;

    public final String getName() {
        return this.iName;
    }

    public final int hashCode() {
        return this.iHashCode;
    }

    private static class Entry {
        final List list;
        final Map map;
        final List unmodifiableList;
        final Map unmodifiableMap;

        protected Entry() {
            HashMap map = new HashMap();
            this.map = map;
            this.unmodifiableMap = Collections.unmodifiableMap(map);
            ArrayList arrayList = new ArrayList(25);
            this.list = arrayList;
            this.unmodifiableList = Collections.unmodifiableList(arrayList);
        }
    }

    protected Enum(String str) {
        init(str);
        this.iName = str;
        this.iHashCode = getEnumClass().hashCode() + 7 + (str.hashCode() * 3);
    }

    private void init(String str) {
        Entry entryCreateEntry;
        if (StringUtils.isEmpty(str)) {
            throw new IllegalArgumentException("The Enum name must not be empty or null");
        }
        Class<?> enumClass = getEnumClass();
        if (enumClass == null) {
            throw new IllegalArgumentException("getEnumClass() must not be null");
        }
        for (Class<?> superclass = getClass(); superclass != null; superclass = superclass.getSuperclass()) {
            Class<?> clsClass$ = class$org$apache$commons$lang$enums$Enum;
            if (clsClass$ == null) {
                clsClass$ = class$("org.apache.commons.lang.enums.Enum");
                class$org$apache$commons$lang$enums$Enum = clsClass$;
            }
            if (superclass == clsClass$) {
                break;
            }
            Class<?> clsClass$2 = class$org$apache$commons$lang$enums$ValuedEnum;
            if (clsClass$2 == null) {
                clsClass$2 = class$("org.apache.commons.lang.enums.ValuedEnum");
                class$org$apache$commons$lang$enums$ValuedEnum = clsClass$2;
            }
            if (superclass == clsClass$2) {
                break;
            }
            if (superclass == enumClass) {
                Class clsClass$3 = class$org$apache$commons$lang$enums$Enum;
                if (clsClass$3 == null) {
                    clsClass$3 = class$("org.apache.commons.lang.enums.Enum");
                    class$org$apache$commons$lang$enums$Enum = clsClass$3;
                }
                synchronized (clsClass$3) {
                    entryCreateEntry = (Entry) cEnumClasses.get(enumClass);
                    if (entryCreateEntry == null) {
                        entryCreateEntry = createEntry(enumClass);
                        WeakHashMap weakHashMap = new WeakHashMap();
                        weakHashMap.putAll(cEnumClasses);
                        weakHashMap.put(enumClass, entryCreateEntry);
                        cEnumClasses = weakHashMap;
                    }
                }
                if (entryCreateEntry.map.containsKey(str)) {
                    throw new IllegalArgumentException(new StringBuffer("The Enum name must be unique, '").append(str).append("' has already been added").toString());
                }
                entryCreateEntry.map.put(str, this);
                entryCreateEntry.list.add(this);
                return;
            }
        }
        throw new IllegalArgumentException("getEnumClass() must return a superclass of this class");
    }

    static /* synthetic */ Class class$(String str) {
        try {
            return Class.forName(str);
        } catch (ClassNotFoundException e) {
            throw new NoClassDefFoundError(e.getMessage());
        }
    }

    protected Object readResolve() {
        Entry entry = (Entry) cEnumClasses.get(getEnumClass());
        if (entry == null) {
            return null;
        }
        return entry.map.get(getName());
    }

    protected static Enum getEnum(Class cls, String str) throws ClassNotFoundException {
        Entry entry = getEntry(cls);
        if (entry == null) {
            return null;
        }
        return (Enum) entry.map.get(str);
    }

    protected static Map getEnumMap(Class cls) throws ClassNotFoundException {
        Entry entry = getEntry(cls);
        return entry == null ? EMPTY_MAP : entry.unmodifiableMap;
    }

    protected static List getEnumList(Class cls) throws ClassNotFoundException {
        Entry entry = getEntry(cls);
        if (entry == null) {
            return Collections.EMPTY_LIST;
        }
        return entry.unmodifiableList;
    }

    protected static Iterator iterator(Class cls) {
        return getEnumList(cls).iterator();
    }

    private static Entry getEntry(Class cls) throws ClassNotFoundException {
        if (cls == null) {
            throw new IllegalArgumentException("The Enum Class must not be null");
        }
        Class clsClass$ = class$org$apache$commons$lang$enums$Enum;
        if (clsClass$ == null) {
            clsClass$ = class$("org.apache.commons.lang.enums.Enum");
            class$org$apache$commons$lang$enums$Enum = clsClass$;
        }
        if (!clsClass$.isAssignableFrom(cls)) {
            throw new IllegalArgumentException("The Class must be a subclass of Enum");
        }
        Entry entry = (Entry) cEnumClasses.get(cls);
        if (entry != null) {
            return entry;
        }
        try {
            Class.forName(cls.getName(), true, cls.getClassLoader());
            return (Entry) cEnumClasses.get(cls);
        } catch (Exception unused) {
            return entry;
        }
    }

    private static Entry createEntry(Class cls) {
        Entry entry = new Entry();
        Class superclass = cls.getSuperclass();
        while (true) {
            if (superclass == null) {
                break;
            }
            Class clsClass$ = class$org$apache$commons$lang$enums$Enum;
            if (clsClass$ == null) {
                clsClass$ = class$("org.apache.commons.lang.enums.Enum");
                class$org$apache$commons$lang$enums$Enum = clsClass$;
            }
            if (superclass == clsClass$) {
                break;
            }
            Class clsClass$2 = class$org$apache$commons$lang$enums$ValuedEnum;
            if (clsClass$2 == null) {
                clsClass$2 = class$("org.apache.commons.lang.enums.ValuedEnum");
                class$org$apache$commons$lang$enums$ValuedEnum = clsClass$2;
            }
            if (superclass == clsClass$2) {
                break;
            }
            Entry entry2 = (Entry) cEnumClasses.get(superclass);
            if (entry2 != null) {
                entry.list.addAll(entry2.list);
                entry.map.putAll(entry2.map);
                break;
            }
            superclass = superclass.getSuperclass();
        }
        return entry;
    }

    public Class getEnumClass() {
        return getClass();
    }

    public final boolean equals(Object obj) {
        if (obj == this) {
            return true;
        }
        if (obj == null) {
            return false;
        }
        if (obj.getClass() == getClass()) {
            return this.iName.equals(((Enum) obj).iName);
        }
        if (obj.getClass().getName().equals(getClass().getName())) {
            return this.iName.equals(getNameInOtherClassLoader(obj));
        }
        return false;
    }

    @Override // java.lang.Comparable
    public int compareTo(Object obj) {
        if (obj == this) {
            return 0;
        }
        if (obj.getClass() != getClass()) {
            if (obj.getClass().getName().equals(getClass().getName())) {
                return this.iName.compareTo(getNameInOtherClassLoader(obj));
            }
            throw new ClassCastException(new StringBuffer("Different enum class '").append(ClassUtils.getShortClassName(obj.getClass())).append("'").toString());
        }
        return this.iName.compareTo(((Enum) obj).iName);
    }

    private String getNameInOtherClassLoader(Object obj) {
        try {
            return (String) obj.getClass().getMethod("getName", null).invoke(obj, null);
        } catch (IllegalAccessException | NoSuchMethodException | InvocationTargetException unused) {
            throw new IllegalStateException("This should not happen");
        }
    }

    public String toString() {
        if (this.iToString == null) {
            this.iToString = new StringBuffer().append(ClassUtils.getShortClassName(getEnumClass())).append("[").append(getName()).append("]").toString();
        }
        return this.iToString;
    }
}
