plugins {
    id 'com.android.library'
    id 'maven-publish'
}

android {
    namespace 'com.shimmerresearch.androidinstrumentdriver'
    compileSdkVersion 33

    lint {
        abortOnError false
    }

    defaultConfig {
        multiDexEnabled true
        minSdkVersion 14
        targetSdkVersion 33
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
        }
    }

    sourceSets {
        main {
            res.srcDirs = [
                    'src/main/res/layouts/fragments',
                    'src/main/res/layouts/general',
                    'src/main/res/layouts',
                    'src/main/res'
            ]
        }
    }

    packagingOptions {
        exclude 'APK META-INF/io.netty.versions.properties'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/INDEX.LIST'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/DEPENDENCIES'
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_11
        targetCompatibility JavaVersion.VERSION_11
    }
}

dependencies {
    implementation 'com.google.guava:guava:20.0'
    implementation 'java3d:vecmath:1.3.1'
    implementation 'androidx.appcompat:appcompat:1.7.0'
    implementation 'androidx.documentfile:documentfile:1.0.1'
    implementation 'com.github.Jasonchenlijian:FastBle:2.4.0'
    implementation files('libs/ShimmerBiophysicalProcessingLibrary_Rev_0_11.jar')
    implementation files('libs/AndroidBluetoothLibrary.jar')

    api files('libs/androidplot-core-0.5.0-release.jar')
}
